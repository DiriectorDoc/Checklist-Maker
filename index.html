<!DOCTYPE html>
<!--

Inspired by Tasker and Tasker2, both by Zevan Rosser (https://github.com/ZevanRosser)

-->
<html lang="en">
	<head>
    	<meta charset="utf-8">
        <title>Checklist</title>
        <link href="main.css" rel="stylesheet" type="text/css">
		<link rel="icon" type="image/png" href="icon.png">
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/TableDnD/0.9.1/jquery.tablednd.js" integrity="sha256-d3rtug+Hg1GZPB7Y/yTcRixO/wlI78+2m08tosoRn7A=" crossorigin="anonymous"></script>
    </head>
	<body>
		<image-src id="header-drag-handler-src">
			<svg viewBox="0 0 90 25"><g fill="none" stroke="#888" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"><path d="M2.5 2.5h85M2.5 12.5h85M2.5 22.5h85"/></g></svg>
		</image-src>
		<image-src id="X-src">
			<svg viewBox="0 0 16 16"><g stroke-linecap="round" stroke-linejoin="round"><path fill="#cd0000" stroke="#900" d="M.5.5h15v15H.5z"/><path fill="none" stroke="gray" stroke-width="2" d="M3.5 3.5l9 9M12.5 3.5l-9 9"/></g></svg>
		</image-src>
		<image-src id="row-drag-handler-src">
			<svg viewBox="0 0 35 35"><path fill="none" stroke="#888" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" d="M7.5 7.5h20m-20 10h20m-20 10h20"/></svg>
		</image-src>
		<image-src id="trash-src">
			<svg viewBox="0 0 50 50"><path fill="none" stroke="red" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" d="M15 14l2 25h16l2-25"/><path fill="none" stroke="red" stroke-width="2" d="M21 18v16m4-16v16m4-16v16M12 13h26"/><path fill="none" stroke="red" stroke-linejoin="round" stroke-width="2" d="M21 12V9h8v3"/><path d="M21 8a1 1 0 00-1 1v3h2v-2h6v2h2V9a1 1 0 00-1-1h-8z" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/><path d="M22 10v1l1-1h4l1 1v-1" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/></svg>
		</image-src>
        <script type="text/javascript">/* src="main.js" */
			let save = {
				lists: [
					{
						title: "List 1",
						items: [
							{
								name: "Task 1",
								state: false
							},
							{
								name: "Task 2",
								state: false
							},
							{
								name: "Task 3",
								state: false
							},
							{
								name: "Task 4",
								state: false
							},
							{
								name: "Task 5",
								state: false
							}
						],
						top: "80px",
						left: "10px",
						width: "350px",
						height: "219px"
					}
				]
			}
			
			function createList(save){
				let list = save.lists[0];
				
				$(".rename-later").append('<div class="list" id="list-0" style="top: '+list.top+'; left: '+list.left+'; width: '+list.width+'; height: '+list.height+';"></div>');
				$("#list-0").append('<div class="list-header" id="list-0-header"></div>');
				$("#list-0-header").append("<table></table>");
				$("#list-0-header table").append('<tr></tr>');
				$("#list-0-header table tr").append('<td class="title"></td>');
				$("#list-0-header table tr").append('<td class="header-drag-handler"></td>');
				$("#list-0-header table tr").append('<td class="X" id="list-0-X"></td>');
				$("#list-0-header table tr .title").html(list.title);
				$("#list-0-header table tr .header-drag-handler").append('<div class="header-drag-handler-img grab" id="list-0-header-drag-handler-img"></div>');
				$("#header-drag-handler-src svg").clone().appendTo("#list-0-header-drag-handler-img");
				$("#X-src svg").clone().appendTo("#list-0-X");
				$("#list-0").append('<table id="list-0-table" class="list-content">');
				if(list.items.length != 0){
					$("#list-0-table").append('<tr id="list-0-row-1"></tr>');
					$("#list-0-row-1").append('<td class="row-drag-handler"></td>');
					$("#list-0-row-1 .row-drag-handler").append('<div class="row-drag-handler-img grab"></div>');
					$("#row-drag-handler-src svg").clone().appendTo("#list-0-row-1 .row-drag-handler .row-drag-handler-img");
					$("#list-0-row-1").append('<td id="list-0-row-1-task"></td>');
					$("#list-0-row-1-task").append('<input type="text" placeholder="' + list.items[0].name +'" />');
					$("#list-0-row-1").append('<td class="check"></td>');
					$("#list-0-row-1 .check").append('<input type="checkbox" ' + (list.items[0].state ? "checked ":"") + "/>");
					$("#list-0-row-1").append('<td class="trash"></td>');
					$("#list-0-row-1 .trash").append('<div class="trash-img"></div>');
					$("#trash-src svg").clone().appendTo("#list-0-row-1 .trash .trash-img");
				}
				for(var i = 2; i <= list.items.length; i++){
					$("#list-0-table").append('<tr id="list-0-row-' + i + '"></tr>');
					$("#list-0-row-1 .row-drag-handler").clone().appendTo("#list-0-row-" + i);
					$("#list-0-row-" + i).append('<td id="list-0-row-' + i + '-task"></td>');
					$("#list-0-row-" + i + "-task").append('<input type="text" placeholder="' + list.items[i-1].name +'" />');
					$("#list-0-row-1 .check").clone().appendTo("#list-0-row-" + i)
					$("#list-0-row-1 .trash").clone().appendTo("#list-0-row-" + i)
				}
				$("#list-0").append('<div id="list-0-footer" class="list-footer">SampleSample</div>');
			}
			
			$(document).ready(function(){
				// Initialise the table
				
				function dragElement(elmnt) {
					let pos1 = 0,
						pos2 = 0,
						pos3 = 0,
						pos4 = 0;
					
					document.getElementById(elmnt.id + "-header-drag-handler-img").onmousedown = dragMouseDown;

					function dragMouseDown(e) {
						e = e || window.event;
						e.preventDefault();
						// get the mouse cursor position at startup:
						pos3 = e.clientX;
						pos4 = e.clientY;
						document.onmouseup = function(){
							/* stop moving when mouse button is released:*/
							document.onmouseup = null;
							document.onmousemove = null;
						};
						// call a function whenever the cursor moves:
						document.onmousemove = function(e){
							e = e || window.event;
							e.preventDefault();
							// calculate the new cursor position:
							pos1 = pos3 - e.clientX;
							pos2 = pos4 - e.clientY;
							pos3 = e.clientX;
							pos4 = e.clientY;
							// set the element's new position:
							elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
							elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
						};
					}
				}

				/* Prototype
				
				dragElement(document.getElementById("list-1"));
				$("#list-1-table").tableDnD({
					onDrop: function(){
						$("#list-1-table tbody tr").removeClass("even-row");
						$("#list-1-table tbody tr:even").addClass("even-row");
					},
					dragHandle: ".row-drag-handler"
				});
				$("#list-1-table tbody tr:even").addClass("even-row");
				*/
				
				createList(save);
				dragElement(document.getElementById("list-0"));
				$("#list-0-table").tableDnD({
					onDrop: function(){
						$("#list-0-table tbody tr").removeClass("even-row");
						$("#list-0-table tbody tr:even").addClass("even-row");
					},
					dragHandle: ".row-drag-handler"
				});
				$("#list-0-table tbody tr:even").addClass("even-row");
			});
		</script>
		<div class="container">
			<div class="header">
				<div class="social">
					<a href="https://github.com/DiriectorDoc/Checklist-Maker"><svg viewBox="0 0 16 16" id="github"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a>
				</div>
				<h1 id="ListName">
					Checklist
				</h1>
			</div>
			<div class="rename-later">
				<!--div class="list" id="list-1">
					<div class="list-header" id="list-1-header">
						<table>
							<tr>
								<td class="title">
									List 1
								</td>
								<td class="header-drag-handler">
									<div class="header-drag-handler-img grab" id="list-1-header-drag-handler-img">
										<svg viewBox="0 0 90 25"><g fill="none" stroke="#888" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"><path d="M2.5 2.5h85M2.5 12.5h85M2.5 22.5h85"/></g></svg>
									</div>
								</td>
								<td class="X" id="list-1-X">
									<svg viewBox="0 0 16 16"><g stroke-linecap="round" stroke-linejoin="round"><path fill="#cd0000" stroke="#900" d="M.5.5h15v15H.5z"/><path fill="none" stroke="gray" stroke-width="2" d="M3.5 3.5l9 9M12.5 3.5l-9 9"/></g></svg>
								</td>
							</tr>
						</table>
					</div>
					<table id="list-1-table" class="list-content">
						<tbody>
							<tr id="list-1-row-1">
								<td class="row-drag-handler">
									<div class="row-drag-handler-img grab">
										<svg viewBox="0 0 35 35"><path fill="none" stroke="#888" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" d="M7.5 7.5h20m-20 10h20m-20 10h20"/></svg>
									</div>
								</td>
								<td>
									<input type="text" placeholder="Task 1" />
								</td>
								<td>
									<input type="checkbox" />
								</td>
								<td>
									<div class="trash-img">
										<svg viewBox="0 0 50 50"><path fill="none" stroke="red" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" d="M15 14l2 25h16l2-25"/><path fill="none" stroke="red" stroke-width="2" d="M21 18v16m4-16v16m4-16v16M12 13h26"/><path fill="none" stroke="red" stroke-linejoin="round" stroke-width="2" d="M21 12V9h8v3"/><path d="M21 8a1 1 0 00-1 1v3h2v-2h6v2h2V9a1 1 0 00-1-1h-8z" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/><path d="M22 10v1l1-1h4l1 1v-1" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/></svg>
									</div>
								</td>
							</tr>
							<tr id="list-1-row-2">
								<td class="row-drag-handler">
									<div class="row-drag-handler-img grab">
										<svg viewBox="0 0 35 35"><path fill="none" stroke="#888" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" d="M7.5 7.5h20m-20 10h20m-20 10h20"/></svg>
									</div>
								</td>
								<td>
									<input type="text" placeholder="Task 2" />
								</td>
								<td>
									<input type="checkbox" />
								</td>
								<td>
									<div class="trash-img">
										<svg viewBox="0 0 50 50"><path fill="none" stroke="red" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" d="M15 14l2 25h16l2-25"/><path fill="none" stroke="red" stroke-width="2" d="M21 18v16m4-16v16m4-16v16M12 13h26"/><path fill="none" stroke="red" stroke-linejoin="round" stroke-width="2" d="M21 12V9h8v3"/><path d="M21 8a1 1 0 00-1 1v3h2v-2h6v2h2V9a1 1 0 00-1-1h-8z" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/><path d="M22 10v1l1-1h4l1 1v-1" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/></svg>
									</div>
								</td>
							</tr>
							<tr id="list-1-row-3">
								<td class="row-drag-handler">
									<div class="row-drag-handler-img grab">
										<svg viewBox="0 0 35 35"><path fill="none" stroke="#888" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" d="M7.5 7.5h20m-20 10h20m-20 10h20"/></svg>
									</div>
								</td>
								<td>
									<input type="text" placeholder="Task 3" />
								</td>
								<td>
									<input type="checkbox" />
								</td>
								<td>
									<div class="trash-img">
										<svg viewBox="0 0 50 50"><path fill="none" stroke="red" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" d="M15 14l2 25h16l2-25"/><path fill="none" stroke="red" stroke-width="2" d="M21 18v16m4-16v16m4-16v16M12 13h26"/><path fill="none" stroke="red" stroke-linejoin="round" stroke-width="2" d="M21 12V9h8v3"/><path d="M21 8a1 1 0 00-1 1v3h2v-2h6v2h2V9a1 1 0 00-1-1h-8z" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/><path d="M22 10v1l1-1h4l1 1v-1" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/></svg>
									</div>
								</td>
							</tr>
							<tr id="list-1-row-4">
								<td class="row-drag-handler">
									<div class="row-drag-handler-img grab">
										<svg viewBox="0 0 35 35"><path fill="none" stroke="#888" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" d="M7.5 7.5h20m-20 10h20m-20 10h20"/></svg>
									</div>
								</td>
								<td>
									<input type="text" placeholder="Task 4" />
								</td>
								<td>
									<input type="checkbox" />
								</td>
								<td>
									<div class="trash-img">
										<svg viewBox="0 0 50 50"><path fill="none" stroke="red" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" d="M15 14l2 25h16l2-25"/><path fill="none" stroke="red" stroke-width="2" d="M21 18v16m4-16v16m4-16v16M12 13h26"/><path fill="none" stroke="red" stroke-linejoin="round" stroke-width="2" d="M21 12V9h8v3"/><path d="M21 8a1 1 0 00-1 1v3h2v-2h6v2h2V9a1 1 0 00-1-1h-8z" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/><path d="M22 10v1l1-1h4l1 1v-1" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/></svg>
									</div>
								</td>
							</tr>
							<tr id="list-1-row-5">
								<td class="row-drag-handler">
									<div class="row-drag-handler-img grab">
										<svg viewBox="0 0 35 35"><path fill="none" stroke="#888" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" d="M7.5 7.5h20m-20 10h20m-20 10h20"/></svg>
									</div>
								</td>
								<td>
									<input type="text" placeholder="Task 5" />
								</td>
								<td>
									<input type="checkbox" />
								</td>
								<td>
									<div class="trash-img">
										<svg viewBox="0 0 50 50"><path fill="none" stroke="red" stroke-linecap="square" stroke-linejoin="round" stroke-width="2" d="M15 14l2 25h16l2-25"/><path fill="none" stroke="red" stroke-width="2" d="M21 18v16m4-16v16m4-16v16M12 13h26"/><path fill="none" stroke="red" stroke-linejoin="round" stroke-width="2" d="M21 12V9h8v3"/><path d="M21 8a1 1 0 00-1 1v3h2v-2h6v2h2V9a1 1 0 00-1-1h-8z" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/><path d="M22 10v1l1-1h4l1 1v-1" fill="red" color="#000" font-family="sans-serif" font-weight="400" overflow="visible"/></svg>
									</div>
								</td>
							</tr>
						</tbody>
					</table>
					<div id="list-1-footer" class="list-footer">
						SampleSample
					</div>
				</div--> <!-- Prototype -->
			</div><!-- End of .rename-later -->
		</div><!-- end of .container -->
	</body>
</html>